{% extends "booking/base.html" %}
{% block content %}
<h2>Manage Reservations</h2>
<a class="btn btn-success mb-3" href="{% url 'add_reservation' %}">Add Reservation</a>

<table class="table table-striped">
    <tr>
        <th>ID</th>
        <th>User</th>
        <th>Room</th>
        <th>Date</th>
        <th>Start</th>
        <th>End</th>
        <th>Status</th>
        <th>Actions</th>
    </tr>
    {% for res in reservations %}
    <tr>
        <td>{{ res.booking_id }}</td>
        <td>{{ res.user.username }}</td>
        <td>{{ res.room.room_name }}</td>
        <td>{{ res.date }}</td>
        <td>{{ res.start_time }}</td>
        <td>{{ res.end_time }}</td>
        <td>{{ res.status }}</td>
        <td>
            <a href="{% url 'edit_reservation' res.booking_id %}" class="btn btn-sm btn-primary">Edit</a>
            <a href="{% url 'delete_reservation' res.booking_id %}" class="btn btn-sm btn-danger"
               onclick="return confirm('Are you sure you want to delete this reservation?');">Delete</a>
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="8">No reservations found.</td></tr>
    {% endfor %}
</table>
{% endblock %}
