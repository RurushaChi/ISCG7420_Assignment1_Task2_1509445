{% extends 'booking/base.html' %}
{% block content %}
<h2>
  {% if user.is_staff %}
    All Reservations
  {% else %}
    My Reservations
  {% endif %}
</h2>

<table>
    <tr>
        <th>Room</th>
        <th>Date</th>
        <th>Start Time</th>
        <th>End Time</th>
        <th>Status</th>
        {% if user.is_staff %}
          <th>User</th>
        {% endif %}
        <th>Actions</th>
    </tr>
    {% for res in reservations %}
    <tr>
        <td>{{ res.room.room_name }}</td>
        <td>{{ res.date }}</td>
        <td>{{ res.start_time }}</td>
        <td>{{ res.end_time }}</td>
        <td>{{ res.status }}</td>
        {% if user.is_staff %}
          <td>{{ res.user.username }}</td>
        {% endif %}
        <td>
            <a href="{% url 'edit_booking' res.booking_id %}">Edit</a> |
            <a href="{% url 'cancel_booking' res.booking_id %}">Cancel</a>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="6">No reservations yet.</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
